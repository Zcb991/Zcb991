name: Update Timestamp

on:
  schedule:
    # 每两小时运行一次
    - cron: "0 */2 * * *"

jobs:
  update-timestamp:
    runs-on: ubuntu-latest

    steps:
      # 检出仓库代码
      - name: Checkout repository
        uses: actions/checkout@v3

      # 获取当前时间戳并写入文件
      - name: Update timestamp
        run: |
          current_time=$(date '+%Y-%m-%d %H:%M:%S')
          echo "Updated on $current_time" > stamp.txt

      # 配置 Git 用户信息
      - name: Configure Git
        run: |
          git config user.email "2952964392@qq.com"
          git config user.name "zcber"

      # 提交并推送更改
      - name: Commit and push changes
        run: |
          git add timestamp.txt
          git commit -m "Update timestamp"
          git push
